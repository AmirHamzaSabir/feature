(this["webpackJsonpKch-react-admin-dashboard"]=this["webpackJsonpKch-react-admin-dashboard"]||[]).push([[13],{475:function(e,t,a){},476:function(e,t,a){"use strict";var s=a(32),c=a(3),n=a.n(c),l=a(91),r=a(10);t.a=function(e){var t=e.icon,a=e.color,c=e.stats,i=e.renderStats,o=e.statTitle,j=e.className,d=e.statsMargin;return Object(r.jsx)(l.c,{children:Object(r.jsx)(l.d,{className:j,children:Object(r.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[Object(r.jsxs)("div",{children:[i||Object(r.jsx)("h2",{className:n()("fw-bolder",Object(s.a)({"mb-0":!d},d,d)),children:c}),Object(r.jsx)("p",{className:"card-text",children:o})]}),Object(r.jsx)("div",{className:"avatar avatar-stats p-50 m-0 ".concat(a?"bg-light-".concat(a):"bg-light-primary"),children:Object(r.jsx)("div",{className:"avatar-content",children:t})})]})})})}},477:function(e,t,a){},480:function(e,t,a){"use strict";a.d(t,"a",(function(){return s})),a.d(t,"b",(function(){return c}));var s=function(e){switch(e){case 0:return"User";case 1:return"Admin";case 2:return"SuperAdmin"}},c=function(e){return e?"active":"inactive"}},499:function(e,t,a){"use strict";var s=a(13),c=a(32),n=a(131),l=a(502),r=a(3),i=a.n(r),o=a(487),j=a.n(o),d=a(91),b=a(10),m=["open","size","title","width","children","closeBtn","className","toggleSidebar","bodyClassName","contentClassName","wrapperClassName","headerClassName"];t.a=function(e){var t,a=e.open,r=e.size,o=e.title,u=e.width,O=e.children,h=e.closeBtn,x=e.className,p=e.toggleSidebar,f=e.bodyClassName,v=e.contentClassName,g=e.wrapperClassName,N=e.headerClassName,w=Object(n.a)(e,m),C=h||Object(b.jsx)(l.a,{className:"cursor-pointer",size:15,onClick:p});return Object(b.jsxs)(d.u,Object(s.a)(Object(s.a)(Object(s.a)({isOpen:a,toggle:p,contentClassName:i()("overflow-hidden",Object(c.a)({},v,v)),modalClassName:i()("modal-slide-in",Object(c.a)({},g,g)),className:i()((t={},Object(c.a)(t,x,x),Object(c.a)(t,"sidebar-lg","lg"===r),Object(c.a)(t,"sidebar-sm","sm"===r),t))},void 0!==u?{style:{width:String(u)+"px"}}:{}),w),{},{children:[Object(b.jsx)(d.w,{className:i()(Object(c.a)({},N,N)),toggle:p,close:C,tag:"div",children:Object(b.jsx)("h5",{className:"modal-title",children:Object(b.jsx)("span",{className:"align-middle",children:o})})}),Object(b.jsx)(j.a,{options:{wheelPropagation:!1},children:Object(b.jsx)(d.v,{className:i()("flex-grow-1",Object(c.a)({},f,f)),children:O})})]}))}},735:function(e,t,a){"use strict";a.r(t);var s=a(26),c=a(2),n=a(4),l=a(1),r=a(13),i=a(499),o=a(478),j=a(91),d=a(137),b=a(128),m=a(10),u={name:"",email:"",password:"",c_password:"",contactNumber:""},O=function(e){var t=e.open,a=e.toggleSidebar,c=Object(l.useState)(0),n=Object(s.a)(c,2),O=n[0],h=n[1],x=Object(l.useState)(null),p=Object(s.a)(x,2),f=p[0],v=p[1],g=Object(b.b)();console.log(f);var N=Object(o.b)({defaultValues:u}),w=N.control,C=N.setValue,y=N.setError,S=N.handleSubmit,k=N.formState.errors;return Object(m.jsx)(i.a,{size:"lg",open:t,title:"New User",headerClassName:"mb-1",contentClassName:"pt-0",toggleSidebar:a,onClosed:function(){for(var e in u)C(e,"");h("")},children:Object(m.jsxs)(j.n,{onSubmit:S((function(e){if(v(e),null===O&&h(0),function(e){return Object.values(e).every((function(e){return"object"===typeof e?null!==e:e.length>0}))}(e))g(Object(d.a)({role:O,email:e.email,password:e.password,c_password:e.c_password,contactNumber:e.contactNumber,name:e.name})).then((function(e){a(),console.log(e)})).catch((function(e){return alert(e)}));else for(var t in e)null===e[t]&&y("country",{type:"manual"}),null!==e[t]&&0===e[t].length&&y(t,{type:"manual"})})),children:[Object(m.jsxs)("div",{className:"mb-1",children:[Object(m.jsxs)(j.t,{className:"form-label",for:"name",children:["Name ",Object(m.jsx)("span",{className:"text-danger",children:"*"})]}),Object(m.jsx)(o.a,{name:"name",control:w,render:function(e){var t=e.field;return Object(m.jsx)(j.q,Object(r.a)({id:"name",placeholder:"johnDoe99",invalid:k.name&&!0},t))}})]}),Object(m.jsxs)("div",{className:"mb-1",children:[Object(m.jsxs)(j.t,{className:"form-label",for:"email",children:["Email ",Object(m.jsx)("span",{className:"text-danger",children:"*"})]}),Object(m.jsx)(o.a,{name:"email",control:w,render:function(e){var t=e.field;return Object(m.jsx)(j.q,Object(r.a)({type:"email",id:"email",placeholder:"john.doe@example.com",invalid:k.email&&!0},t))}}),Object(m.jsx)(j.p,{color:"muted",children:"You can use letters, numbers & periods"})]}),Object(m.jsxs)("div",{className:"mb-1",children:[Object(m.jsxs)(j.t,{className:"form-label",for:"contactNumber",children:["Contact ",Object(m.jsx)("span",{className:"text-danger",children:"*"})]}),Object(m.jsx)(o.a,{name:"contactNumber",control:w,render:function(e){var t=e.field;return Object(m.jsx)(j.q,Object(r.a)({id:"contactNumber",placeholder:"(397) 294-5153",invalid:k.contactNumber&&!0},t))}})]}),Object(m.jsxs)("div",{className:"mb-1",children:[Object(m.jsxs)(j.t,{className:"form-label",for:"password",children:["Password ",Object(m.jsx)("span",{className:"text-danger",children:"*"})]}),Object(m.jsx)(o.a,{name:"password",control:w,render:function(e){var t=e.field;return Object(m.jsx)(j.q,Object(r.a)({id:"password",type:"password",placeholder:"Enter Password",invalid:k.password&&!0},t))}})]}),Object(m.jsxs)("div",{className:"mb-1",children:[Object(m.jsxs)(j.t,{className:"form-label",for:"c_password",children:["Confirm Password ",Object(m.jsx)("span",{className:"text-danger",children:"*"})]}),Object(m.jsx)(o.a,{name:"c_password",control:w,render:function(e){var t=e.field;return Object(m.jsx)(j.q,Object(r.a)({id:"c_password",type:"password",placeholder:"Confirm Password",invalid:k.c_password&&!0},t))}})]}),Object(m.jsxs)("div",{className:"mb-1",children:[Object(m.jsx)(j.t,{className:"form-label",for:"user-role",children:"User Role"}),Object(m.jsxs)(j.q,{type:"select",id:"user-role",name:"user-role",value:O,onChange:function(e){return h(e.target.value)},children:[Object(m.jsx)("option",{value:0,children:"User"}),Object(m.jsx)("option",{value:1,children:"Admin"}),Object(m.jsx)("option",{value:2,children:"Super Admin"})]})]}),Object(m.jsx)(j.b,{type:"submit",className:"me-1",color:"primary",children:"Submit"}),Object(m.jsx)(j.b,{type:"reset",color:"secondary",outline:!0,onClick:a,children:"Cancel"})]})})},h=a(471),x=a(510),p=a(531),f=a(534),v=a(501),g=a(567),N=a(557),w=a(516),C=a(570),y=a(480),S=a(490),k=a.n(S),P=a(491),E=a.n(P),A=a(132),q=k()(E.a),z=function(){var e=Object(n.a)(Object(c.a)().mark((function e(t){return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.a.dispatch(Object(d.f)(t));case 3:return A.a.dispatch(Object(d.c)()),A.a.dispatch(Object(d.e)()),e.abrupt("return",!0);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",!1);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),F={pending:"light-warning",active:"light-success",inactive:"light-secondary"},U=[{name:"Name",sortable:!0,minWidth:"300px",sortField:"Name",selector:function(e){return e.name},cell:function(e){return Object(m.jsx)("div",{className:"d-flex justify-content-left align-items-center",children:Object(m.jsxs)("div",{className:"d-flex flex-column",children:[Object(m.jsx)(h.b,{to:"/edit-user/".concat(e._id),className:"user_name text-truncate text-body",children:Object(m.jsx)("span",{className:"fw-bolder",children:e.name})}),Object(m.jsx)("small",{className:"text-truncate text-muted mb-0",children:e.email})]})})}},{name:"Role",sortable:!0,minWidth:"172px",sortField:"role",selector:function(e){return Object(y.a)(e.role)},cell:function(e){return function(e){var t={User:{class:"text-primary",icon:x.a},maintainer:{class:"text-success",icon:p.a},editor:{class:"text-info",icon:f.a},Admin:{class:"text-warning",icon:v.a},SuperAdmin:{class:"text-danger",icon:g.a}},a=t[Object(y.a)(e.role)]?t[Object(y.a)(e.role)].icon:f.a;return Object(m.jsxs)("span",{className:"text-truncate text-capitalize align-middle",children:[Object(m.jsx)(a,{size:18,className:"".concat(t[Object(y.a)(e.role)]?t[Object(y.a)(e.role)].class:""," me-50")}),Object(y.a)(e.role)]})}(e)}},{name:"Mobile Number",minWidth:"230px",sortable:!0,sortField:"billing",selector:function(e){return e.contactNumber},cell:function(e){return Object(m.jsx)("span",{className:"text-capitalize",children:e.contactNumber})}},{name:"Status",minWidth:"138px",sortable:!0,sortField:"status",selector:function(e){return e.status},cell:function(e){return Object(m.jsx)(j.a,{className:"text-capitalize",color:F[Object(y.b)(e.status)],pill:!0,children:Object(y.b)(e.status)})}},{name:"Actions",minWidth:"100px",cell:function(e){return Object(m.jsx)("div",{className:"column-action",children:Object(m.jsxs)(j.E,{children:[Object(m.jsx)(j.m,{tag:"div",className:"btn btn-sm",children:Object(m.jsx)(N.a,{size:14,className:"cursor-pointer"})}),Object(m.jsxs)(j.l,{children:[Object(m.jsxs)(j.k,{tag:h.b,className:"w-100",to:"/edit-user/".concat(e._id),children:[Object(m.jsx)(w.a,{size:14,className:"me-50"}),Object(m.jsx)("span",{className:"align-middle",children:"Edit"})]}),Object(m.jsxs)(j.k,{tag:"a",href:"/",className:"w-100",onClick:function(t){var a;t.preventDefault(),a=e._id,q.fire({title:"Are you sure?",text:"You won't be able to revert Employee!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, Remove Employee!",customClass:{confirmButton:"btn btn-primary",cancelButton:"btn btn-outline-danger ms-1"},buttonsStyling:!1}).then(function(){var e=Object(n.a)(Object(c.a)().mark((function e(t){return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.value?z(a)&&q.fire({icon:"success",title:"Removed!",text:"Employee has been removed.",customClass:{confirmButton:"btn btn-success"}}):t.dismiss===q.DismissReason.cancel&&q.fire({title:"Cancelled",text:"Cancelled Removing Employee :)",icon:"error",customClass:{confirmButton:"btn btn-success"}});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},children:[Object(m.jsx)(C.a,{size:14,className:"me-50"}),Object(m.jsx)("span",{className:"align-middle",children:"Delete"})]})]})]})})}}],T=a(474),_=a(485),R=a.n(_),B=a(486),D=a.n(B),I=a(564),L=a(561),W=a(539),H=a(543),M=a(540),V=a(529),Y=a(524),J=a(472),K=(a(482),a(475),a(6)),G=a.n(K),Q=a(5),X=(Object(Q.b)("appUsers/getAllData",Object(n.a)(Object(c.a)().mark((function e(){var t;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G.a.get("/api/users/list/all-data");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))),Object(Q.b)("appUsers/getData",function(){var e=Object(n.a)(Object(c.a)().mark((function e(t){var a;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G.a.get("/api/users/list/data",t);case 2:return a=e.sent,e.abrupt("return",{params:t,data:a.data.users,totalPages:a.data.total});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),function(e){var t=e.store,a=e.toggleSidebar,s=e.handlePerPage,c=e.rowsPerPage,n=e.handleFilter,l=e.searchTerm;function r(e){var a=document.createElement("a"),s=function(e){var a,s=Object.keys(t.data[0]);return a="",a+=s.join(","),a+="\n",e.forEach((function(e){var t=0;s.forEach((function(s){t>0&&(a+=","),a+=e[s],t++})),a+="\n"})),a}(e);if(null!==s){s.match(/^data:text\/csv/i)||(s="data:text/csvcharset=utf-8,".concat(s)),a.setAttribute("href",encodeURI(s)),a.setAttribute("download","export.csv"),a.click()}}return Object(m.jsx)("div",{className:"invoice-list-table-header w-100 me-1 ms-50 mt-2 mb-75",children:Object(m.jsxs)(j.A,{children:[Object(m.jsx)(j.h,{xl:"6",className:"d-flex align-items-center p-0",children:Object(m.jsxs)("div",{className:"d-flex align-items-center w-100",children:[Object(m.jsx)("label",{htmlFor:"rows-per-page",children:"Show"}),Object(m.jsxs)(j.q,{className:"mx-50",type:"select",id:"rows-per-page",value:c,onChange:s,style:{width:"5rem"},children:[Object(m.jsx)("option",{value:"10",children:"10"}),Object(m.jsx)("option",{value:"25",children:"25"}),Object(m.jsx)("option",{value:"50",children:"50"})]}),Object(m.jsx)("label",{htmlFor:"rows-per-page",children:"Entries"})]})}),Object(m.jsxs)(j.h,{xl:"6",className:"d-flex align-items-sm-center justify-content-xl-end justify-content-start flex-xl-nowrap flex-wrap flex-sm-row flex-column pe-xl-1 p-0 mt-xl-0 mt-1",children:[Object(m.jsxs)("div",{className:"d-flex align-items-center mb-sm-0 mb-1 me-1",children:[Object(m.jsx)("label",{className:"mb-0",htmlFor:"search-invoice",children:"Search:"}),Object(m.jsx)(j.q,{id:"search-invoice",className:"ms-50 w-100",type:"text",value:l,onChange:function(e){return n(e.target.value)}})]}),Object(m.jsxs)("div",{className:"d-flex align-items-center table-header-actions",children:[Object(m.jsxs)(j.E,{className:"me-1",children:[Object(m.jsxs)(j.m,{color:"secondary",caret:!0,outline:!0,children:[Object(m.jsx)(I.a,{className:"font-small-4 me-50"}),Object(m.jsx)("span",{className:"align-middle",children:"Export"})]}),Object(m.jsxs)(j.l,{children:[Object(m.jsxs)(j.k,{className:"w-100",children:[Object(m.jsx)(L.a,{className:"font-small-4 me-50"}),Object(m.jsx)("span",{className:"align-middle",children:"Print"})]}),Object(m.jsxs)(j.k,{className:"w-100",onClick:function(){return r(t.data)},children:[Object(m.jsx)(W.a,{className:"font-small-4 me-50"}),Object(m.jsx)("span",{className:"align-middle",children:"CSV"})]}),Object(m.jsxs)(j.k,{className:"w-100",children:[Object(m.jsx)(H.a,{className:"font-small-4 me-50"}),Object(m.jsx)("span",{className:"align-middle",children:"Excel"})]}),Object(m.jsxs)(j.k,{className:"w-100",children:[Object(m.jsx)(M.a,{className:"font-small-4 me-50"}),Object(m.jsx)("span",{className:"align-middle",children:"PDF"})]}),Object(m.jsxs)(j.k,{className:"w-100",children:[Object(m.jsx)(V.a,{className:"font-small-4 me-50"}),Object(m.jsx)("span",{className:"align-middle",children:"Copy"})]})]})]}),Object(m.jsx)(j.b,{className:"add-new-user",color:"primary",onClick:a,children:"Add Employee"})]})]})]})})}),Z=function(){var e=Object(b.b)(),t=Object(b.c)((function(e){return e.employees})),a=Object(l.useState)("desc"),c=Object(s.a)(a,2),n=c[0],r=c[1],i=Object(l.useState)(""),o=Object(s.a)(i,2),u=o[0],h=o[1],x=Object(l.useState)(1),p=Object(s.a)(x,2),f=p[0],v=p[1],g=Object(l.useState)("id"),N=Object(s.a)(g,2),w=N[0],C=N[1],y=Object(l.useState)(10),S=Object(s.a)(y,2),k=S[0],P=S[1],E=Object(l.useState)(!1),A=Object(s.a)(E,2),q=A[0],z=A[1],F=Object(l.useState)({value:"",label:"Select Role"}),_=Object(s.a)(F,2),B=_[0],I=_[1],L=Object(l.useState)({value:"",label:"Select Status",number:0}),W=Object(s.a)(L,2),H=W[0],M=W[1],V=function(){return z(!q)};Object(l.useEffect)((function(){e(Object(d.c)()),e(Object(d.e)({sort:n,sortColumn:w,q:u,page:f,perPage:k,role:B.value,status:H.value}))}),[e,t.allUsers.length,t.data.length,n,w,f]);return Object(m.jsxs)(l.Fragment,{children:[Object(m.jsxs)(j.c,{children:[Object(m.jsx)(j.e,{children:Object(m.jsx)(j.g,{tag:"h4",children:"Filters"})}),Object(m.jsx)(j.d,{children:Object(m.jsxs)(j.A,{children:[Object(m.jsxs)(j.h,{md:"6",children:[Object(m.jsx)(j.t,{for:"role-select",children:"Role"}),Object(m.jsx)(T.a,{isClearable:!1,value:B,options:[{value:"",label:"Select Role"},{value:2,label:"SuperAdmin"},{value:1,label:"Admin"},{value:0,label:"User"}],className:"react-select",classNamePrefix:"select",theme:J.c,onChange:function(t){I(t),e(Object(d.e)({sort:n,sortColumn:w,q:u,role:t.value,page:f,perPage:k,status:H.value}))}})]}),Object(m.jsxs)(j.h,{md:"6",children:[Object(m.jsx)(j.t,{for:"status-select",children:"Status"}),Object(m.jsx)(T.a,{theme:J.c,isClearable:!1,className:"react-select",classNamePrefix:"select",options:[{value:"",label:"Select Status"},{value:!0,label:"Active",number:2},{value:!1,label:"Inactive",number:3}],value:H,onChange:function(t){M(t),e(Object(d.e)({sort:n,sortColumn:w,q:u,page:f,status:t.value,perPage:k,role:B.value}))}})]})]})})]}),Object(m.jsx)(j.c,{className:"overflow-hidden",children:Object(m.jsx)("div",{className:"react-dataTable",children:Object(m.jsx)(D.a,{noHeader:!0,subHeader:!0,sortServer:!0,pagination:!0,responsive:!0,paginationServer:!0,columns:U,onSort:function(t,a){r(a),C(t.sortField),e(Object(d.e)({sort:n,sortColumn:w,q:u,page:f,perPage:k,role:B.value,status:H.value}))},sortIcon:Object(m.jsx)(Y.a,{}),className:"react-dataTable",paginationComponent:function(){var a=Number(Math.ceil(t.total/k));return Object(m.jsx)(R.a,{previousLabel:"",nextLabel:"",pageCount:a||1,activeClassName:"active",forcePage:0!==f?f-1:0,onPageChange:function(t){return function(t){e(Object(d.e)({sort:n,sortColumn:w,q:u,perPage:k,page:t.selected+1,role:B.value,status:H.value})),v(t.selected+1)}(t)},pageClassName:"page-item",nextLinkClassName:"page-link",nextClassName:"page-item next",previousClassName:"page-item prev",previousLinkClassName:"page-link",pageLinkClassName:"page-link",containerClassName:"pagination react-paginate justify-content-end my-2 pe-1"})},data:function(){var e={role:B.value,status:H.value,q:u},a=Object.keys(e).some((function(t){return e[t].length>0}));return t.data.length>0?t.data:0===t.data.length&&a?[]:t.allUsers.slice(0,k)}(),subHeaderComponent:Object(m.jsx)(X,{store:t,searchTerm:u,rowsPerPage:k,handleFilter:function(t){h(t),e(Object(d.e)({sort:n,q:t,sortColumn:w,page:f,perPage:k,role:B.value,status:H.value}))},handlePerPage:function(t){var a=parseInt(t.currentTarget.value);e(Object(d.e)({sort:n,sortColumn:w,q:u,perPage:a,page:f,role:B.value,status:H.value})),P(a)},toggleSidebar:V})})})}),Object(m.jsx)(O,{open:q,toggleSidebar:V})]})},$=a(476),ee=a(576),te=a(577);a(477),t.default=function(){var e=Object(b.c)((function(e){return e.employees})).allUsers,t=e.filter((function(e){return!0===e.status}));return Object(m.jsxs)("div",{className:"app-user-list",children:[Object(m.jsxs)(j.A,{children:[Object(m.jsx)(j.h,{lg:"4",sm:"6",children:Object(m.jsx)($.a,{color:"primary",statTitle:"Total Employees",icon:Object(m.jsx)(x.a,{size:20}),renderStats:Object(m.jsx)("h3",{className:"fw-bolder mb-75",children:e.length})})}),Object(m.jsx)(j.h,{lg:"4",sm:"6",children:Object(m.jsx)($.a,{color:"success",statTitle:"Active Employees",icon:Object(m.jsx)(ee.a,{size:20}),renderStats:Object(m.jsx)("h3",{className:"fw-bolder mb-75",children:t.length})})}),Object(m.jsx)(j.h,{lg:"4",sm:"6",children:Object(m.jsx)($.a,{color:"danger",statTitle:"Inactive Employees",icon:Object(m.jsx)(te.a,{size:20}),renderStats:Object(m.jsx)("h3",{className:"fw-bolder mb-75",children:e.length-t.length})})})]}),Object(m.jsx)(Z,{})]})}}}]);
//# sourceMappingURL=13.09d38cd3.chunk.js.map