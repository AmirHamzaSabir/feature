(this["webpackJsonpKch-react-admin-dashboard"]=this["webpackJsonpKch-react-admin-dashboard"]||[]).push([[28],{729:function(e,c,t){"use strict";t.r(c);var s=t(32),a=t(13),n=t(26),r=t(91),l=t(1),d=t(471),i=t(128),o=t(131),j=t(146),b=t(133),u=t(134),m=t(472),h=t(473),O=t(10),x=function(e){var c=e.name;return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)("div",{className:"toastify-header",children:Object(O.jsx)("div",{className:"title-wrapper",children:Object(O.jsxs)("h6",{className:"toast-title fw-bold",children:["You have successfully Updated ",c.toUpperCase()]})})})})},p=function(e){var c=e.name;return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)("div",{className:"toastify-header",children:Object(O.jsx)("div",{className:"title-wrapper",children:Object(O.jsxs)("h6",{className:"toast-title fw-bold",children:["Error Updated ",c.toUpperCase()]})})})})};c.default=function(){var e=Object(d.useParams)(),c=Object(i.b)(),t=Object(l.useState)([]),f=Object(n.a)(t,2),N=f[0],g=f[1],y=Object(i.c)((function(e){return e.orders})),v=Object(d.useHistory)(),w=Object(i.c)((function(e){return e.customers})),C=Object(i.c)((function(e){return e.products})),S=Object(l.useState)(null),A=Object(n.a)(S,2),k=A[0],P=A[1],D=Object(l.useState)(null),B=Object(n.a)(D,2),R=B[0],U=B[1],q=Object(l.useState)(!1),E=Object(n.a)(q,2),I=E[0],_=E[1],F=Object(l.useState)(!1),J=Object(n.a)(F,2),K=J[0],Y=J[1],z=Object(l.useState)(!1),H=Object(n.a)(z,2),T=H[0],W=H[1],G=Object(l.useState)({bankAccountNumber:"",orderNumber:"",refundAmount:""}),L=Object(n.a)(G,2),M=L[0],Q=L[1],V=M.bankAccountNumber,X=M.orderNumber,Z=M.refundAmount,$=Object(l.useState)({name:"",awb:"",address:""}),ee=Object(n.a)($,2),ce=ee[0],te=ee[1],se=ce.name,ae=ce.awb,ne=ce.address,re=Object(l.useState)({value:"",label:"Select Status"}),le=Object(n.a)(re,2),de=le[0],ie=le[1],oe=function(e){Q((function(c){return Object(a.a)(Object(a.a)({},c),{},Object(s.a)({},e.target.name,e.target.value))}))},je=function(e){te((function(c){return Object(a.a)(Object(a.a)({},c),{},Object(s.a)({},e.target.name,e.target.value))}))};return Object(l.useEffect)((function(){w.customers.length>0&&C.products.length>0&&(w.customers.forEach((function(e){e._id===N.customerId&&P(e)})),C.products.forEach((function(e){e._id===N.productId&&U(e)})))}),[w.customers,C.products,N.customerId,N.productId]),Object(l.useEffect)((function(){c(Object(j.d)(e.id)).then((function(e){g(e.payload),Q((function(c){return Object(a.a)(Object(a.a)({},c),{},{orderNumber:e.payload._id})}))}))}),[c,e.id,y.orders]),Object(l.useEffect)((function(){c(Object(b.c)()),c(Object(u.d)()),c(Object(j.c)())}),[c]),console.log(R),null!==k?Object(O.jsx)(O.Fragment,{children:Object(O.jsx)(r.h,{xl:12,md:12,sm:12,children:Object(O.jsxs)(r.c,{className:"invoice-preview-card",children:[Object(O.jsxs)(r.h,{xs:12,className:"text-end pe-1 mt-2 pt-50",children:[Object(O.jsx)(r.b,{type:"button",className:"me-1",color:"primary",onClick:function(){_(!0)},children:"Update Status"}),Object(O.jsx)(r.b,{type:"button",color:"primary",onClick:function(){Y(!0)},children:"Refund"}),Object(O.jsx)(r.b,{type:"button",className:"ms-1",color:"primary",onClick:function(){W(!0)},children:"Shipping"}),Object(O.jsx)(r.b,{type:"button",className:"ms-1",color:"secondary",onClick:function(){return v.push("/order")},children:"Return"})]}),Object(O.jsx)(r.d,{className:"invoice-padding pb-0",children:Object(O.jsxs)("div",{className:"d-flex justify-content-between flex-md-row flex-column invoice-spacing mt-0",children:[Object(O.jsxs)("div",{children:[Object(O.jsx)("div",{className:"logo-wrapper",children:Object(O.jsx)("h3",{className:"text-primary invoice-logo",children:"Customer Details"})}),Object(O.jsx)(r.f,{className:"mb-25",children:k.name}),Object(O.jsx)(r.f,{className:"mb-25",children:k.address}),Object(O.jsx)(r.f,{className:"mb-0",children:k.contactNumber})]}),Object(O.jsxs)("div",{className:"mt-md-0 mt-2 logo-wrapper",children:[Object(O.jsxs)("h4",{className:"invoice-title",children:["Order Id : ",Object(O.jsx)("span",{className:"invoice-number",children:N._id})]}),Object(O.jsxs)(r.f,{className:"mb-25 text-capitalize",children:[Object(O.jsx)("span",{children:"Status : "}),N.status]})]})]})}),Object(O.jsx)("hr",{className:"invoice-spacing"}),Object(O.jsxs)(r.d,{children:[Object(O.jsx)("h4",{children:"Shipping Details"}),Object(O.jsxs)(r.C,{responsive:!0,children:[Object(O.jsx)("thead",{children:Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{className:"py-1",children:"Name"}),Object(O.jsx)("th",{className:"py-1",children:"Awb"}),Object(O.jsx)("th",{className:"py-1",children:"Address"})]})}),Object(O.jsx)("tbody",{children:N instanceof Object&&N.shippingDetails.length>0?N.shippingDetails.map((function(e,c){return Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{className:"py-1",children:Object(O.jsx)("p",{className:"card-text fw-bold mb-25",children:e.name})}),Object(O.jsx)("td",{className:"py-1",children:Object(O.jsx)("span",{className:"fw-bold",children:e.awb})}),Object(O.jsx)("td",{className:"py-1",children:Object(O.jsx)("span",{className:"fw-bold",children:e.address})})]},c)})):null})]})]}),Object(O.jsxs)(r.d,{children:[Object(O.jsx)("h4",{children:"Refund Details"}),Object(O.jsxs)(r.C,{responsive:!0,children:[Object(O.jsx)("thead",{children:Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{className:"py-1",children:"Order #"}),Object(O.jsx)("th",{className:"py-1",children:"Bank Account #"}),Object(O.jsx)("th",{className:"py-1",children:"Refund Amount"})]})}),Object(O.jsx)("tbody",{children:N instanceof Object&&N.refundDetails.length>0?N.refundDetails.map((function(e,c){return Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{className:"py-1",children:Object(O.jsx)("p",{className:"card-text fw-bold mb-25",children:e.orderNumber})}),Object(O.jsx)("td",{className:"py-1",children:Object(O.jsx)("span",{className:"fw-bold",children:e.bankAccountNumber})}),Object(O.jsx)("td",{className:"py-1",children:Object(O.jsx)("span",{className:"fw-bold",children:e.refundAmount})})]},c)})):null})]})]}),Object(O.jsx)("hr",{className:"invoice-spacing"}),Object(O.jsx)(r.d,{className:"invoice-padding pt-0",children:Object(O.jsx)(r.A,{children:Object(O.jsxs)(r.h,{sm:"12",children:[Object(O.jsx)("span",{className:"fw-bold",children:"Note: "}),Object(O.jsx)("span",{children:"It was a pleasure working with you and your team. We hope you will keep us in mind for future freelance projects. Thank You!"})]})})}),Object(O.jsxs)(r.u,{isOpen:I,toggle:function(){return _(!I)},className:"modal-dialog-centered modal-lg",children:[Object(O.jsx)(r.w,{className:"bg-transparent",toggle:function(){return _(!I)}}),Object(O.jsxs)(r.v,{className:"px-sm-5 pt-50 pb-5",children:[Object(O.jsx)("div",{className:"text-center mb-2",children:Object(O.jsx)("h1",{className:"mb-1",children:"Update Status"})}),Object(O.jsx)(r.n,{children:Object(O.jsxs)(r.A,{className:"gy-1 pt-75",children:[Object(O.jsxs)(r.h,{md:12,xs:12,children:[Object(O.jsx)(r.t,{className:"form-label",for:"status",children:"Status"}),Object(O.jsx)(h.a,{theme:m.c,isClearable:!1,className:"react-select",classNamePrefix:"select",options:[{value:"",label:"Select Status"},{value:"new",label:"New"},{value:"confirmed",label:"Confirmed"},{value:"packed",label:"Packed"},{value:"shipped",label:"Shipped"},{value:"delivered",label:"Delivered"},{value:"pending",label:"Pending"},{value:"cancelled",label:"Cancelled"},{value:"failed",label:"Failed"},{value:"returned",label:"Returned"}],value:de,onChange:function(e){ie(e)}})]}),Object(O.jsx)(r.h,{xs:12,className:"text-center mt-2 pt-50",children:Object(O.jsx)(r.b,{type:"button",className:"me-1",color:"primary",onClick:function(){c(Object(j.g)({id:N._id,status:de.value})).then((function(e){e.payload.error||e.error?o.c.error(Object(O.jsx)(p,{name:e.payload.error||e.payload.username||"Status"}),{icon:!1,transition:o.a,hideProgressBar:!0,autoClose:2e3}):o.c.success(Object(O.jsx)(x,{name:e.payload.name||e.payload.username||"Status"}),{icon:!1,transition:o.a,hideProgressBar:!0,autoClose:2e3}),_(!1)})).catch((function(e){o.c.success(Object(O.jsx)(p,{name:e.error||res.error||"Status"}),{icon:!1,transition:o.a,hideProgressBar:!0,autoClose:2e3})}))},children:"Submit"})})]})})]})]}),Object(O.jsxs)(r.u,{isOpen:T,toggle:function(){return W(!T)},className:"modal-dialog-centered modal-lg",children:[Object(O.jsx)(r.w,{className:"bg-transparent",toggle:function(){return W(!T)}}),Object(O.jsxs)(r.v,{className:"px-sm-5 pt-50 pb-5",children:[Object(O.jsx)("div",{className:"text-center mb-2",children:Object(O.jsx)("h1",{className:"mb-1",children:"Update Shipping"})}),Object(O.jsx)(r.n,{children:Object(O.jsxs)(r.A,{className:"gy-1 pt-75",children:[Object(O.jsxs)(r.h,{md:6,xs:12,children:[Object(O.jsx)(r.t,{className:"form-label",for:"name",children:"Name"}),Object(O.jsx)(r.q,{id:"name",name:"name",placeholder:"",onChange:je,value:se})]}),Object(O.jsxs)(r.h,{md:6,xs:12,children:[Object(O.jsx)(r.t,{className:"form-label",for:"awb",children:"Awb #"}),Object(O.jsx)(r.q,{id:"awb",name:"awb",placeholder:"",onChange:je,value:ae})]}),Object(O.jsxs)(r.h,{md:6,xs:12,children:[Object(O.jsx)(r.t,{className:"form-label",for:"address",children:"Address"}),Object(O.jsx)(r.q,{id:"address",name:"address",placeholder:"",onChange:je,value:ne})]}),Object(O.jsx)(r.h,{xs:12,className:"text-center mt-2 pt-50",children:Object(O.jsx)(r.b,{type:"button",className:"me-1",color:"primary",onClick:function(){c(Object(j.f)({name:se,awb:ae,address:ne,id:X})).then((function(e){e.payload.error||e.error?o.c.error(Object(O.jsx)(p,{name:e.payload.error||e.payload.username||"Shipping Details"}),{icon:!1,transition:o.a,hideProgressBar:!0,autoClose:2e3}):o.c.success(Object(O.jsx)(x,{name:e.payload.name||e.payload.username||"Shipping Details"}),{icon:!1,transition:o.a,hideProgressBar:!0,autoClose:2e3}),te({name:"",awb:"",address:""}),W(!1)})).catch((function(e){o.c.success(Object(O.jsx)(p,{name:e.error||res.error||"Status"}),{icon:!1,transition:o.a,hideProgressBar:!0,autoClose:2e3})}))},children:"Submit"})})]})})]})]}),Object(O.jsxs)(r.u,{isOpen:K,toggle:function(){return Y(!K)},className:"modal-dialog-centered modal-lg",children:[Object(O.jsx)(r.w,{className:"bg-transparent",toggle:function(){return Y(!K)}}),Object(O.jsxs)(r.v,{className:"px-sm-5 pt-50 pb-5",children:[Object(O.jsx)("div",{className:"text-center mb-2",children:Object(O.jsx)("h1",{className:"mb-1",children:"Update Refund"})}),Object(O.jsx)(r.n,{children:Object(O.jsxs)(r.A,{className:"gy-1 pt-75",children:[Object(O.jsxs)(r.h,{md:6,xs:12,children:[Object(O.jsx)(r.t,{className:"form-label",for:"bankAccountNumber",children:"Bank Account #"}),Object(O.jsx)(r.q,{id:"bankAccountNumber",name:"bankAccountNumber",placeholder:"",onChange:oe,value:V})]}),Object(O.jsxs)(r.h,{md:6,xs:12,children:[Object(O.jsx)(r.t,{className:"form-label",for:"orderNumber",children:"Order #"}),Object(O.jsx)(r.q,{id:"orderNumber",disabled:!0,name:"orderNumber",placeholder:"",onChange:oe,value:X})]}),Object(O.jsxs)(r.h,{md:6,xs:12,children:[Object(O.jsx)(r.t,{className:"form-label",for:"refundAmount",children:"Refund Amount"}),Object(O.jsx)(r.q,{id:"refundAmount",name:"refundAmount",placeholder:"",onChange:oe,value:Z})]}),Object(O.jsx)(r.h,{xs:12,className:"text-center mt-2 pt-50",children:Object(O.jsx)(r.b,{type:"button",className:"me-1",color:"primary",onClick:function(){c(Object(j.e)({orderNumber:X,bankAccountNumber:V,refundAmount:Z,id:X})).then((function(e){e.payload.error||e.error?o.c.error(Object(O.jsx)(p,{name:e.payload.error||e.payload.username||"Refund Details"}),{icon:!1,transition:o.a,hideProgressBar:!0,autoClose:2e3}):o.c.success(Object(O.jsx)(x,{name:e.payload.name||e.payload.username||"Refund Details"}),{icon:!1,transition:o.a,hideProgressBar:!0,autoClose:2e3}),Q({bankAccountNumber:"",orderNumber:"",refundAmount:""}),Y(!1)})).catch((function(e){o.c.success(Object(O.jsx)(p,{name:e.error||res.error||"Status"}),{icon:!1,transition:o.a,hideProgressBar:!0,autoClose:2e3})}))},children:"Submit"})})]})})]})]})]})})}):null}}}]);
//# sourceMappingURL=28.e2b9159d.chunk.js.map