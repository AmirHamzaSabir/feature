(this["webpackJsonpKch-react-admin-dashboard"]=this["webpackJsonpKch-react-admin-dashboard"]||[]).push([[21],{726:function(e,t,a){"use strict";a.r(t);var r=a(13),n=a(26),c=a(90),s=a(472),i=a(516),o=a(495),u=a(469),l=a(1),d=a(468),b=a(127),j=a(470),p=a(133),f=a(140),h=a(129),g=a(3),m=a(4),O=a(7),x=a(8),v=a.n(x),y="http://localhost:3001/api/category",C=function(){var e=Object(m.a)(Object(g.a)().mark((function e(t,a){var r,n;return Object(g.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={headers:{Authorization:"Bearer ".concat(a)}},e.next=3,v.a.post("".concat(y,"/add-category"),t,r);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),w=function(){var e=Object(m.a)(Object(g.a)().mark((function e(){var t;return Object(g.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get("".concat(y,"/get-category"));case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=function(){var e=Object(m.a)(Object(g.a)().mark((function e(t,a){var r,n;return Object(g.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={headers:{Authorization:"Bearer ".concat(a)}},e.next=3,v.a.get("".concat(y,"/get-category/").concat(t),r);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),N=function(){var e=Object(m.a)(Object(g.a)().mark((function e(t,a){var r,n;return Object(g.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={headers:{Authorization:"Bearer ".concat(a)}},e.next=3,v.a.put("".concat(y,"/update-category/").concat(t._id),t,r);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),k=function(){var e=Object(m.a)(Object(g.a)().mark((function e(t,a){var r,n;return Object(g.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={headers:{Authorization:"Bearer ".concat(t)}},e.next=3,v.a.delete("".concat(y,"/remove-category/").concat(a),r);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),L={getCategory:w,postCategory:C,removeCategory:k,getSingleCategory:S,updateCategory:N},E=Object(O.b)("category/post",function(){var e=Object(m.a)(Object(g.a)().mark((function e(t,a){var r,n;return Object(g.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=a.getState().auth.user.token,e.abrupt("return",L.postCategory(t,r));case 5:return e.prev=5,e.t0=e.catch(0),n=e.t0.response&&e.t0.response.data&&e.t0.response.data.message||e.t0.message||e.t0.toString(),e.abrupt("return",a.rejectWithValue(n));case 9:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t,a){return e.apply(this,arguments)}}()),q=Object(O.b)("category/get",function(){var e=Object(m.a)(Object(g.a)().mark((function e(t,a){var r;return Object(g.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",L.getCategory());case 4:return e.prev=4,e.t0=e.catch(0),r=e.t0.response&&e.t0.response.data&&e.t0.response.data.message||e.t0.message||e.t0.toString(),e.abrupt("return",a.rejectWithValue(r));case 8:case"end":return e.stop()}}),e,null,[[0,4]])})));return function(t,a){return e.apply(this,arguments)}}()),A=Object(O.b)("auth/get-single-category",function(){var e=Object(m.a)(Object(g.a)().mark((function e(t,a){var r,n;return Object(g.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=a.getState().auth.user.token,e.abrupt("return",L.getSingleCategory(t,r));case 5:return e.prev=5,e.t0=e.catch(0),n=e.t0.response&&e.t0.response.data&&e.t0.response.data.message||e.t0.message||e.t0.toString(),e.abrupt("return",a.rejectWithValue(n));case 9:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t,a){return e.apply(this,arguments)}}()),z=Object(O.b)("category/update",function(){var e=Object(m.a)(Object(g.a)().mark((function e(t,a){var r;return Object(g.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=a.getState().auth.user.token,e.abrupt("return",L.updateCategory(t,r));case 5:return e.prev=5,e.t0=e.catch(0),e.abrupt("return",a.rejectWithValue(e.t0.error));case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t,a){return e.apply(this,arguments)}}()),V=Object(O.b)("category/remove-single-category",function(){var e=Object(m.a)(Object(g.a)().mark((function e(t,a){var r,n;return Object(g.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=a.getState().auth.user.token,e.abrupt("return",L.removeCategory(r,t));case 5:return e.prev=5,e.t0=e.catch(0),n=e.t0.response&&e.t0.response.data&&e.t0.response.data.message||e.t0.message||e.t0.toString(),e.abrupt("return",a.rejectWithValue(n));case 9:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t,a){return e.apply(this,arguments)}}()),B=Object(O.c)({name:"category",initialState:{categories:[],isLoading:!1,isSuccess:!1,isError:!1,message:"",response:""},reducers:{reset:function(e){e.isLoading=!1,e.isSuccess=!1,e.isError=!1,e.message=""}},extraReducers:function(e){e.addCase(E.pending,(function(e){e.isLoading=!0})).addCase(E.rejected,(function(e,t){e.isLoading=!1,e.isError=!0,e.message=t.payload})).addCase(E.fulfilled,(function(e,t){e.isLoading=!1,e.isSuccess=!0,e.isError=!1,e.categories.push(t.payload.newCategory)})).addCase(q.pending,(function(e){e.isLoading=!0})).addCase(q.rejected,(function(e,t){e.isLoading=!1,e.isError=!0,e.message=t.payload})).addCase(q.fulfilled,(function(e,t){e.categories=Object(h.a)(t.payload.categories),e.isLoading=!1,e.isSuccess=!0,e.isError=!1})).addCase(A.pending,(function(e){e.isLoading=!0})).addCase(A.rejected,(function(e,t){e.isLoading=!1,e.isError=!0,e.categories=[],e.message=t.payload})).addCase(A.fulfilled,(function(e,t){e.isLoading=!1,e.isSuccess=!0,e.isError=!1,e.response=t.payload})).addCase(z.pending,(function(e){e.isLoading=!0})).addCase(z.rejected,(function(e,t){e.isLoading=!1,e.isError=!0,e.isSuccess=!1,e.message=t.payload})).addCase(z.fulfilled,(function(e,t){e.isLoading=!1,e.isSuccess=!0,e.isError=!1;var a=e.categories.findIndex((function(e){return e._id===t.payload._id}));-1!==a&&e.categories.splice(a,1,t.payload)})).addCase(V.pending,(function(e){e.isLoading=!0})).addCase(V.rejected,(function(e,t){e.isLoading=!1,e.isError=!0,e.message=t.payload.category})).addCase(V.fulfilled,(function(e,t){e.isLoading=!1,e.isSuccess=!0,e.payload=t.payload;var a=e.categories.findIndex((function(e){return e._id===t.meta.arg}));-1!==a&&e.categories.splice(a,1)}))}}),P=(B.actions.reset,B.reducer,a(10)),W=function(e){var t=e.name;return Object(P.jsx)(P.Fragment,{children:Object(P.jsx)("div",{className:"toastify-header",children:Object(P.jsx)("div",{className:"title-wrapper",children:Object(P.jsxs)("h6",{className:"toast-title fw-bold",children:["You have successfully Added Employee ",t.toUpperCase()]})})})})};t.default=function(){var e=Object(b.b)(),t=Object(b.c)((function(e){return e.employees})),a=Object(l.useState)(!1),h=Object(n.a)(a,2),g=h[0],m=h[1],O=Object(l.useState)(0),x=Object(n.a)(O,2),v=x[0],y=x[1],C=Object(d.g)(),w=Object(s.b)({defaultValues:{name:"",color:"",description:""}}),S=w.reset,N=w.control,k=w.setError,L=w.handleSubmit,E=w.formState.errors,A=[{value:"xs",label:"xs"},{value:"sm",label:"sm"},{value:"lg",label:"lg"},{value:"xl",label:"xl"},{value:"xxl",label:"xxl"}];return Object(l.useEffect)((function(){e(q()).then((function(e){var t=e.payload.categories.filter((function(e){return e.status}));return console.log(t),e}))}),[e,y]),Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)("div",{className:"text-center mb-2",children:Object(P.jsx)("h1",{className:"mb-1",children:"Add Product Information"})}),Object(P.jsx)(c.n,{onSubmit:L((function(a){if(console.log(g),console.log(Object.values(a)),Object.values(a).every((function(e){return e.length>0})))e(Object(f.a)(Object(r.a)(Object(r.a)(Object(r.a)({},t.message),a),{},{role:v.value}))).then((function(e){C.push("/user/employee"),p.c.success(Object(P.jsx)(W,{name:e.payload.name||e.payload.username||"John Doe"}),{icon:!1,transition:p.a,hideProgressBar:!0,autoClose:2e3})}));else for(var n in a)0===a[n].length&&k(n,{type:"manual"})})),children:Object(P.jsxs)(c.A,{className:"gy-1 pt-75",children:[Object(P.jsxs)(c.h,{md:6,xs:12,children:[Object(P.jsx)(c.t,{className:"form-label",for:"name",children:"Name"}),Object(P.jsx)(s.a,{control:N,type:"name",id:"name",name:"name",render:function(e){var t=e.field;return Object(P.jsx)(c.q,Object(r.a)(Object(r.a)({},t),{},{id:"name",placeholder:"Doe",invalid:E.name&&!0}))}})]}),Object(P.jsxs)(c.h,{md:6,xs:12,children:[Object(P.jsx)(c.t,{className:"form-label",for:"price",children:"Price"}),Object(P.jsx)(s.a,{control:N,type:"price",id:"price",name:"price",render:function(e){var t=e.field;return Object(P.jsx)(c.q,Object(r.a)(Object(r.a)({},t),{},{id:"price",placeholder:"1",invalid:E.price&&!0}))}})]}),Object(P.jsxs)(c.h,{xs:6,children:[Object(P.jsx)(c.t,{className:"form-label",for:"color",children:"Color"}),Object(P.jsx)(s.a,{control:N,id:"color",name:"color",render:function(e){var t=e.field;return Object(P.jsx)(c.q,Object(r.a)(Object(r.a)({},t),{},{id:"color",placeholder:"black",invalid:E.color&&!0}))}})]}),Object(P.jsxs)(c.h,{xs:6,children:[Object(P.jsx)(c.t,{className:"form-label",for:"quantity",children:"Quantity"}),Object(P.jsx)(s.a,{control:N,id:"quantity",name:"quantity",render:function(e){var t=e.field;return Object(P.jsx)(c.q,Object(r.a)(Object(r.a)({},t),{},{id:"quantity",placeholder:"1",invalid:E.quantity&&!0}))}})]}),Object(P.jsxs)(c.h,{md:6,xs:12,children:[Object(P.jsx)(c.t,{className:"form-label",for:"size",children:"Size:"}),Object(P.jsx)(j.a,{id:"Role",isClearable:!1,className:"react-select",classNamePrefix:"select",options:A,theme:u.c,defaultValue:A[0],onChange:function(e){return m(e)}})]}),Object(P.jsxs)(c.h,{md:6,xs:12,children:[Object(P.jsx)(c.t,{className:"form-label",for:"category",children:"Category"}),Object(P.jsx)(j.a,{id:"category",isClearable:!1,className:"react-select",classNamePrefix:"select",options:[{value:0,label:"User"},{value:1,label:"Admin"},{value:2,label:"Super Admin"}],theme:u.c,defaultValue:A[0],onChange:function(e){return y(e)}})]}),Object(P.jsxs)(c.h,{xs:12,children:[Object(P.jsx)(c.t,{className:"form-label",for:"description",children:"Description"}),Object(P.jsx)(s.a,{control:N,id:"description",name:"description",render:function(e){var t=e.field;return Object(P.jsx)(c.q,Object(r.a)(Object(r.a)({},t),{},{type:"textarea",id:"description",placeholder:"",invalid:E.description&&!0}))}})]}),Object(P.jsx)(c.h,{xs:12,children:Object(P.jsxs)("div",{className:"d-flex align-items-center mt-1",children:[Object(P.jsxs)("div",{className:"form-switch",children:[Object(P.jsx)(c.q,{type:"switch",defaultChecked:!0,id:"billing-switch",name:"billing-switch"}),Object(P.jsxs)(c.t,{className:"form-check-label",htmlFor:"billing-switch",children:[Object(P.jsx)("span",{className:"switch-icon-left",children:Object(P.jsx)(i.a,{size:14})}),Object(P.jsx)("span",{className:"switch-icon-right",children:Object(P.jsx)(o.a,{size:14})})]})]}),Object(P.jsx)(c.t,{className:"form-check-label fw-bolder",for:"billing-switch",children:"Use as a billing address?"})]})}),Object(P.jsxs)(c.h,{xs:12,className:"text-center mt-2 pt-50",children:[Object(P.jsx)(c.b,{type:"submit",className:"me-1",color:"primary",children:"Submit"}),Object(P.jsx)(c.b,{type:"reset",color:"secondary",outline:!0,onClick:function(){S({name:"",color:"",description:""})},children:"Discard"})]})]})})]})}}}]);
//# sourceMappingURL=21.73620b54.chunk.js.map